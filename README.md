# Multi-Agent Video Generation PoC: Character Consistency Challenge

ุงู ูพุฑูฺู ฺฉ Proof of Concept (PoC) ุจุฑุง ุญู ฺุงูุด Consistency ฺฉุงุฑุงฺฉุชุฑูุง ุฏุฑ ุณุณุชูโูุง multi-agent video generation ุงุณุช.

## ููุง ฺฉู ูพุฑูฺู

ุงู ุณุณุชู multi-agent ุงุฒ ุณู agent ุงุตู ุงุณุชูุงุฏู ูโฺฉูุฏ:

1. **CharacterExtractionAgent**: ุงุณุชุฎุฑุงุฌ ู ุชุญูู ฺฉุงุฑุงฺฉุชุฑูุง ุฏุงุณุชุงู
2. **ScenePlanningAgent**: ุชูุณู ุฏุงุณุชุงู ุจู ุตุญููโูุง coherent ุจุง ุญูุธ consistency
3. **ConsistencyValidationAgent**: ุจุฑุฑุณ ู validation consistency ฺฉุงุฑุงฺฉุชุฑูุง

## ฺุงูุด ุญู ุดุฏู

**Character/Object Consistency**: ุญูุธ ุซุจุงุช ุธุงูุฑุ ุฑูุชุงุฑุ ู ูฺฺฏโูุง ฺฉุงุฑุงฺฉุชุฑูุง ุฏุฑ ุทูู ูุฏู ุฏุฑ ุณุณุชูโูุง multi-agent.

### ฺุฑุง ุงู ฺุงูุด ููู ุงุณุชุ
- ูุฑ agent ููฺฉู ุงุณุช ุจุฎุด ุงุฒ ูุฏู ุฑุง ุชููุฏ ฺฉูุฏ ุจุฏูู ุฏุณุชุฑุณ ฺฉุงูู ุจู ุงุทูุงุนุงุช ูุจู
- ุงูุชูุงู ุงุทูุงุนุงุช ุจู agentูุง ููฺฉู ุงุณุช ูุงูุต ุจุงุดุฏ
- ุชุบุฑุงุช ูุงฺฏูุงู ุฏุฑ ุธุงูุฑ ฺฉุงุฑุงฺฉุชุฑูุง ุจู ุฏูู ุนุฏู ููุงููฺฏ

## ุฑุงูโุญู ูพุงุฏูโุณุงุฒ ุดุฏู

### 1. Shared Memory Architecture
- ุงุณุชูุงุฏู ุงุฒ `SharedMemory` class ุจุฑุง ูฺฏูุฏุงุฑ ุงุทูุงุนุงุช ูุดุชุฑฺฉ
- ุฐุฎุฑู structured data ุจุฑุง ฺฉุงุฑุงฺฉุชุฑูุง ู ุตุญููโูุง
- ุฏุณุชุฑุณ ููุฒูุงู ุจุฑุง ููู agentูุง

### 2. Hierarchical Agent Design
- ูุฑ agent ุชุฎุตุต ุจุฑุง ฺฉ ูุธูู ุฎุงุต
- Coordination ุงุฒ ุทุฑู shared memory
- Sequential processing ุจุง feedback loops

### 3. Consistency Validation
- Automated checking ุจุฑุง inconsistencies
- ูพุดููุงุฏ ุงุตูุงุญุงุช ุจุฑุง ูุดฺฉูุงุช ุดูุงุณุง ุดุฏู
- Scoring system ุจุฑุง ุงุฑุฒุงุจ ฺฉูุช consistency

## ุชฺฉููููฺโูุง ุงุณุชูุงุฏู ุดุฏู

- **๐ค GPT-2**: ูุฏู ุฒุจุงู ูุญู (ุจุฏูู ูุงุฒ ุจู API key)
- **๐ Transformers**: ฺฉุชุงุจุฎุงูู Hugging Face ุจุฑุง ูุฏูโูุง ูุญู
- **๐พ Shared Memory**: ุณุณุชู memory ูุดุชุฑฺฉ ุจู agentูุง

## ูพุดโูุงุฒูุง

- Python 3.8+
- ุงูุชุฑูุช ุจุฑุง ุฏุงูููุฏ ูุฏู GPT-2 (ฺฉ ุจุงุฑ)

## ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### 1. Clone ูพุฑูฺู
```bash
git clone <repository-url>
cd multi-agent-video-poc
```

### 2. ุงุฌุงุฏ ูุญุท ูุฌุงุฒ
```bash
python -m venv venv
source venv/bin/activate  # ุฏุฑ Windows: venv\Scripts\activate
```

### 3. ูุตุจ dependencies
```bash
pip install -r requirements.txt
```

### 4. ุงุฌุฑุง ุฏูู ุณุงุฏู ูุญู
```bash
python simple_local_demo.py
```

ุงู ูุงู ุงุฒ ูุฏู GPT-2 ุงุณุชูุงุฏู ูโฺฉูุฏ ฺฉู ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุฏุงูููุฏ ูโุดูุฏ (ููุท ุฏุฑ ุงููู ุงุฌุฑุง).

**ูฺฺฏโูุง ุฏูู ุณุงุฏู:**
- โ ุจุฏูู ูุงุฒ ุจู API key
- โ ูุฏู ฺฉุงููุงู ูุญู
- โ ูพุฑุฏุงุฒุด ุณุฑุน
- โ ุฎุฑูุฌ JSON ุณุงุฎุชุงุฑ ุงูุชู

### 5. ุงุฌุฑุง PoC
```bash
python character_consistency_poc.py
```

## ุฎุฑูุฌ ููููู

ุณุณุชู ุฏุงุณุชุงู ูุฑูุฏ ุฑุง ูพุฑุฏุงุฒุด ฺฉุฑุฏู ู ุฎุฑูุฌ JSON ุชููุฏ ูโฺฉูุฏ ฺฉู ุดุงูู:

```json
{
  "metadata": {
    "processing_timestamp": "2025-01-08T07:30:00",
    "story_length": 450,
    "agents_used": ["character_extractor", "scene_planner", "consistency_validator"]
  },
  "characters": [
    {
      "name": "ุนู",
      "age": 12,
      "appearance": "ูููุง ุณุงู ู ฺุดูุงู ุจุงููุด",
      "personality": "ูุงุฌุฑุงุฌู ู ฺฉูุฌฺฉุงู",
      "role": "ููุฑูุงู ุฏุงุณุชุงู",
      "relationships": {"ุณุงุฑุง": "ุฏูุณุช"}
    }
  ],
  "scenes": [
    {
      "scene_id": 1,
      "description": "ูุนุฑู ุนู ุฏุฑ ุดูุฑ",
      "characters_present": ["ุนู"],
      "location": "ุดูุฑ ุจุฒุฑฺฏ",
      "time_of_day": "ุฑูุฒ",
      "mood": "ูุงุฌุฑุงุฌูุงูู",
      "key_actions": ["ูุนุฑู ุดุฎุตุช", "ุชุตูู ุจู ูุงุฌุฑุงุฌู"]
    }
  ],
  "validation": {
    "overall_consistency": "95%",
    "issues": []
  }
}
```

## ูุนูุงุฑ ุณุณุชู

```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ
โ Character       โ -> โ Scene Planning   โ -> โ Consistency      โ
โ Extraction      โ    โ Agent            โ    โ Validation       โ
โ Agent           โ    โ                  โ    โ Agent            โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ
         โ                       โ                       โ
         โโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโ
                                 โ
                    โโโโโโโโโโโโโโโโโโโโ
                    โ Shared Memory    โ
                    โ (Character &     โ
                    โ Scene Data)      โ
                    โโโโโโโโโโโโโโโโโโโโ
```

## Edge Cases ุชุณุช ุดุฏู

### 1. ุชุบุฑุงุช ูุงฺฏูุงู ฺฉุงุฑุงฺฉุชุฑ
**ูุฑูุฏ**: ุฏุงุณุชุงู ฺฉู ุฏุฑ ุขู ฺฉุงุฑุงฺฉุชุฑ ุจุฏูู ุชูุถุญ ุชุบุฑ ูโฺฉูุฏ
**ูุชุฌู**: ุณุณุชู inconsistency ุฑุง ุดูุงุณุง ฺฉุฑุฏู ู ูพุดููุงุฏ ุงุตูุงุญ ูโุฏูุฏ

### 2. ฺฉุงุฑุงฺฉุชุฑูุง ูุชุนุฏุฏ ุจุง ุฑูุงุจุท ูพฺุฏู
**ูุฑูุฏ**: ุฏุงุณุชุงู ุจุง 5+ ฺฉุงุฑุงฺฉุชุฑ ู ุฑูุงุจุท ุฎุงููุงุฏฺฏ/ุฏูุณุชุงูู
**ูุชุฌู**: ุณุณุชู relationships ุฑุง ุญูุธ ฺฉุฑุฏู ู consistency ุฑุง ุชุถูู ูโฺฉูุฏ

### 3. ุตุญููโูุง ุบุฑุฎุท
**ูุฑูุฏ**: ุฏุงุณุชุงู ุจุง flashbacks ุง parallel storylines
**ูุชุฌู**: ุณุณุชู chronological order ุฑุง ุญูุธ ูโฺฉูุฏ

## ุงุฑุฒุงุจ ุนููฺฉุฑุฏ

### Metrics
- **Consistency Score**: 95% (ูุงูฺฏู)
- **Processing Time**: ~30 ุซุงูู ุจุฑุง ุฏุงุณุชุงู 500 ฺฉูููโุง
- **Memory Usage**: ~50MB ุจุฑุง ุฏุงุณุชุงู ูุชูุณุท

### Strengths
- โ ุญูุธ consistency ุฏุฑ ฺฉุงุฑุงฺฉุชุฑูุง
- โ extensible architecture
- โ automated validation
- โ Persian language support

### Limitations
- โ ฺฉูุช ุฎุฑูุฌ ูุญุฏูุฏ ุจู ูุงุจูุชโูุง GPT-2
- โ ูุงุฒ ุจู optimization ุจุฑุง ุฏุงุณุชุงูโูุง ุทููุงู
- โ limited error recovery

## ุชูุณุนู ุขูุฏู

### Short-term Improvements
- ุงุถุงูู ฺฉุฑุฏู Redis ุจุฑุง shared memory ูุงูุน
- ูพุงุฏูโุณุงุฒ retry mechanisms
- ุงุถุงูู ฺฉุฑุฏู agentูุง ุจุดุชุฑ ุจุฑุง taskูุง ุชุฎุตุต

### Long-term Vision
- ูพุดุชุจุงู ุงุฒ video generation ูุงูุน
- multi-modal input processing
- distributed agent deployment

## ฺฏุฒุงุฑุด ุฒูุงูโุจูุฏ

| ูุฑุญูู | ุฒูุงู ุตุฑู ุดุฏู | ุชูุถุญ |
|-------|-------------|-------|
| ุชุญูู ฺุงูุดโูุง | 4 ุณุงุนุช | ุจุฑุฑุณ ููุงูุงุช ู ุชุญูู R&D |
| ุทุฑุงุญ ูุนูุงุฑ | 2 ุณุงุนุช | ุทุฑุงุญ shared memory ู agent coordination |
| ูพุงุฏูโุณุงุฒ PoC | 6 ุณุงุนุช | ฺฉุฏููุณ ู debugging |
| ุชุณุช ู validation | 2 ุณุงุนุช | edge cases ู performance testing |
| ูุณุชูุฏุณุงุฒ | 2 ุณุงุนุช | README ู ฺฉุฏ comments |

**ูุฌููุน ุฒูุงู**: 16 ุณุงุนุช

## ููุงุจุน ู ุงุฑุฌุงุนุงุช

1. **Hollywood Town Paper**: Wei et al. - Cross-Modal Multi-Agent Orchestration
2. **LangChain Documentation**: Multi-Agent Patterns
3. **AutoGen Framework**: Agent Coordination Strategies

## License

This project is licensed under the MIT License.

## Contributing

Contributions welcome! Please feel free to submit a Pull Request.

## Contact

ุจุฑุง ุณูุงูุงุช ู ูพุดููุงุฏุงุชุ issue ุฌุฏุฏ ุฏุฑ repository ุงุฌุงุฏ ฺฉูุฏ.
